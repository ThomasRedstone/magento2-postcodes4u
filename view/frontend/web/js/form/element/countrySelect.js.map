{"version":3,"sources":["frontend/web/js/form/element/countrySelect.js"],"names":["define","ko","Element","addressData","$","extend","initialize","_super","window","autocomplete_id","form","getForm","country","value","subscribe","console","log","api","show","hide","trigger"],"mappings":";;AACAA,OAAO,CACH,IADG,EAEH,mCAFG,EAGH,oDAHG,EAIH,QAJG,CAAP,EAKG,UAAUC,EAAV,EAAcC,OAAd,EAAuBC,WAAvB,EAAoCC,CAApC,EAAuC;AACtC;;AAEA,WAAOF,QAAQG,MAAR,CAAe;AAClBC,oBAAY,sBAAY;AAAA;;AACpB,iBAAKC,MAAL;AACAC,mBAAOC,eAAP,GAAyB,KAAKA,eAA9B;AACA,iBAAKC,IAAL,GAAYP,YAAYQ,OAAZ,CAAoB,KAAKF,eAAzB,CAAZ;AACA,iBAAKC,IAAL,CAAUE,OAAV,CAAkB,KAAKC,KAAL,EAAlB;AACA,iBAAKA,KAAL,CAAWC,SAAX,CAAqB,UAACD,KAAD,EAAW;AAC5B,sBAAKH,IAAL,CAAUE,OAAV,CAAkBC,KAAlB;AACH,aAFD;AAGAE,oBAAQC,GAAR,CAAY,2BAAZ;;AAEA,iBAAKH,KAAL,CAAWC,SAAX,CAAqB,UAACF,OAAD,EAAa;AAC9BG,wBAAQC,GAAR,CAAY,0BAAZ;AACAD,wBAAQC,GAAR,CAAY,EAACJ,gBAAD,EAAZ;AACA,oBAAIK,MAAMb,EAAE,cAAF,CAAV;AACAQ,4BAAY,IAAZ,GAAmBK,IAAIC,IAAJ,EAAnB,GAAiCD,IAAIE,IAAJ,MAAcf,EAAE,iBAAF,EAAqBgB,OAArB,CAA6B,OAA7B,CAA/C;AACAZ,uBAAOI,OAAP,GAAiBA,OAAjB;AACH,aAND;;AASA,mBAAO,IAAP;AACH;AArBiB,KAAf,CAAP;AAuBH,CA/BD","file":"countrySelect.js","sourcesContent":["\ndefine([\n    'ko',\n    'Magento_Ui/js/form/element/select',\n    'Postcodes4uAddressLookup/model/address/addressData',\n    'jquery'\n], function (ko, Element, addressData, $) {\n    \"use strict\";\n\n    return Element.extend({\n        initialize: function () {\n            this._super();\n            window.autocomplete_id = this.autocomplete_id;\n            this.form = addressData.getForm(this.autocomplete_id);\n            this.form.country(this.value());\n            this.value.subscribe((value) => {\n                this.form.country(value);\n            });\n            console.log('setting up country select');\n\n            this.value.subscribe((country) => {\n                console.log('got value from subscribe');\n                console.log({country});\n                var api = $('.postcodeApi');\n                country === 'GB' ? api.show() : (api.hide() && $('.address-manual').trigger('click'));\n                window.country = country;\n            });\n\n\n            return this;\n        }\n    });\n});\n"]}